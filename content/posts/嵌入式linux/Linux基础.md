---
title: linux基础
draft: false
tags:
  - linux
categories:
  - 嵌入式linux
series:
  - linux开发
hidden: false
date: 2024-04-10T16:02:28+08:00
featuredImage: https://pan.lmio.xyz/pic/9073aba410f45c1027257e097953a574.png
---
## 文件系统
----
- windows 系统使用类似容器，容器包含小容器
- linux 使用目录，文件之间是索引关系，文件夹之间没有包含关系

### 文件系统类型

- ext2/ext3/ext4
- xfs
- btrfs
- jfs
- ntfs

### 文件类型

- 普通文件
- 目录文件
- 链接文件
- 设备文件
- 管道文件
- 套接字文件

## linux目录结构

|||
|-|-|
|/|根目录所有的分区和文件的起点|
|/bin|普通用户可用的命令所在路径|
|/sbin|超级用户可用的命令所在路径|
|/etc|各种配置文件所在路径|
|/home|所有普通用户的家目录所在路径|
|/lib|系统库文件所在路径|
|/boot|系统内核镜像文件所在路径|
|/dev|设备节点所在路径|
|/usr|第三方库和服务默认安装路径|
|/proc|系统进程数据在文件系统中的挂载路径|
|/sys|系统内核数据在文件系统中的挂载路径|
|/var|存放一些“易变”的文件，例如安装包、系统日志等|
|/mnt|默认的分区挂载路径|
|/tmp|默认的临时文件路径|
|/root|超级用户的家目录所在路径|
|/opt|第三方软件默认安装路径|
|/media|默认的挂载点路径|
|/lost+found|系统崩溃恢复时存放临时文件的路径|
|/srv|存放一些服务启动后需要提取的数据的路径|
|/run|存放系统运行时需要提取的数据的路径|

## 环境变量

环境变量是能作用于整个系统的特定变量，比如`HOME`确定了当前用户家目录所在路径、`PATH`确定了哪些路径下有可执行文件等，许多环境变量是系统本身定义的，有些环境变量是用户或软件定义的，这些环境变量可以通过命令`export`导出到整个系统，在整个系统环境中起作用，这也是它们之所以被称为环境变量的原因。

- 查看系统所有的环境变量: 命令`env`可以用来查看当前所有的环境变量的及其值：
- 查看某个环境变量: 如果需要查看某个特定的环境变量的值，可以使用命令`echo`来将环境变量的值输出到终端，注意要对环境变量进行引用，方式是在其名称前面加一个美元符号`$`，比如`$PATH`:
- 设置某个环境变量: 临时设置（以PATH为例）：
```shell
$ export PATH=$PATH:/home/lmio
```

- 永久设置（以PATH为例）：
```shell
$ vim ~/.bashrc
```
在文件中添加`export PATH=$PATH:/home/lmio`，然后保存退出，再执行`source ~/.bashrc`命令，即可永久生效。

## 文件系统操作

- 创建文件: 命令`touch`可以用来创建文件，比如`touch test.txt`，即可创建一个名为`test.txt`的文件。
- 创建目录: 命令`mkdir`可以用来创建目录，比如`mkdir test`，即可创建一个名为`test`的目录。
- 删除文件: 命令`rm`可以用来删除文件，比如`rm test.txt`，即可删除一个名为`test.txt`的文件。
- 删除目录: 命令`rmdir`可以用来删除目录，比如`rmdir test`，即可删除一个名为`test`的目录。
- 复制文件: 命令`cp`可以用来复制文件，比如`cp test.txt test1.txt`，即可将一个名为`test.txt`的文件复制为另一个名为`test1.txt`的文件。
- 移动文件: 命令`mv`可以用来移动文件，比如`mv test.txt test1.txt`，即可将一个名为`test.txt`的文件移动为另一个名为`test1.txt`的文件。
- 重命名文件: 命令`mv`可以用来重命名文件，比如`mv test.txt test1.txt`，即可将一个名为`test.txt`的文件重命名为另一个名为`test1.txt`的文件。
- 复制目录: 命令`cp`可以用来复制目录，比如`cp -r test test1`，即可将一个名为`test`的目录复制为另一个名为`test1`的目录。
- 移动目录: 命令`mv`可以用来移动目录，比如`mv test test1`，即可将一个名为`test`的目录移动为另一个名为`test1`的目录。
- 重命名目录: 命令`mv`可以用来重命名目录，比如`mv test test1`，即可将一个名为`test`的目录重命名为另一个名为`test1`的目录。

## 文件权限

- 文件权限: 文件权限是指文件或目录的访问权限，分为读、写、执行三种权限，分别用`r`、`w`、`x`表示，比如`rwx`表示文件或目录的读、写、执行权限都有。
- 文件权限: 文件权限是指文件或目录的访问权限，分为读、写、执行三种权限，分别用`r`、`w`、`x`表示，比如`rwx`表示文件或目录的读、写、执行权限都有。

使用ls -l命令可以查看文件或目录的权限，比如`ls -l`可以查看当前目录下的所有文件和目录的权限。

```shell
$ ls -l
drwxr-xr-x 2 root root 4096 4月  10 16:02 test
-rw-r--r-- 1 root root    0 4月  10 16:02 test.txt
```
以`drwxr-xr-x`为例

- `d` 表示文件类型，`d`表示目录，`-`表示普通文件
- `rwxr-xr-x` 表示文件权限，`rwx`表示文件所有者（即创建者）对该文件具有读、写、执行权限，`r-x`表示文件所属组具有读、执行权限，`r-x`表示其他用户具有读、执行权限
- `2` 表示文件所属组
- `root` 表示文件所属组
- `4096` 表示文件大小，单位为字节
- `4月  10 16:02` 表示文件创建时间
- `test` 表示文件名

## 文件权限修改

- 修改文件权限: 命令`chmod`可以用来修改文件权限，比如`chmod 777 test.txt`可以修改一个名为`test.txt`的文件权限为`rwxrwxrwx`。
- 修改目录权限: 命令`chmod`可以用来修改目录权限，比如`chmod 777 test`可以修改一个名为`test`的目录权限为`rwxrwxrwx`。

## 文件权限修改符号

- `u` 表示文件或目录的所有者
- `g` 表示文件或目录的所属组
- `o` 表示文件或目录的其他用户
- `a` 表示文件或目录的所有用户

也可以使用`+`或者`-`添加或删除权限，比如`chmod u+x test.txt`可以给一个名为`test.txt`的文件添加执行权限，`chmod u-x test.txt`可以给一个名为`test.txt`的文件删除执行权限。

